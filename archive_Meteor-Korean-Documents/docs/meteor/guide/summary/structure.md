---
title: 프로젝트 구조
---

# 프로젝트 구조 %{ #structure }%

## 디렉토리 구조 %{ #directory-structure }%

Meteor에는 특수한 목적의 디렉토리가 있습니다.
아래는 해당하는 모든 디렉토리를 나열한 것입니다:

```
프로젝트
│  # 하위 섹션에서 좀 더 알아 보겠습니다
├  public
├  client
├  imports
├  private
├  server
├  tests
│
│  # 아래 나열된 디렉토리는 어디에서도 로드 되지 않는다
├  .git                     # 깃 구성 디렉토리
├  .meteor                  # meteor 실행을 위한 내부적인 디렉토리
├  node_modules             # npm 페키지 구성 디렉토리
├  packages                 # 로컬 페키지 사용시
├  cordova-build-override   # 고급 모바일 빌드 사용자 정의에 사용
└  programs                 # 레거시 (사용되지 않음)
```

### public

이 디렉토리 내부의 모든 파일은 클라이언트에 있는 그대로 제공되므로,
이러한 파일을 참조할 때 `public/`경로를 포함하면 안됩니다.

예를 들어 `public/icon.png` 파일을 포함할 때,
html 코드는 다음과 같이 참조해야 합니다:

```html
<img src="icon.png">
```

이곳에는 일반적으로 `favicon.ico`, `robots.txt` 그리고 변경(교체) 필요성이 드문 파일들(이미지)을 위한 디렉토리 입니다.

### client

이 디렉토리는 서버에서 로드되지 않습니다.
프로덕션 모드일 경우, 모든 파일은 서로 연결되고 축소화(minify)됩니다.
개발 모드일 경우, js와 css 파일은 쉽게 디버깅 가능하도록 축소화되지 않습니다.

:::info
웹 사이트에서 css의 경우, 프로덕션과 개발 모드에 관계없이 하나의 파일로 결합됩니다.
css 파일의 URL을 변경할 경우, 파일의 URL이 처리되는 방식에 영향을 미치기 때문입니다.
따라서 두 모드간, 일관성을 유지하기 위함입니다.

html 파일의 경우, `<head>`, `<body>` 및 `<template>` 세 종류의 최상위 일리먼트를 스켄합니다.
`<head>` 및 `<body>`가 하나의 파일 내에 작성되지 않은 경우,
하나의 파일로 결합한 후 초기 페이지 로드 시 클라이언트로 전송됩니다.
:::

### imports

이 디렉토리에 있는 모든 파일은 어디에서도 로드되지 않으며, 필요시 `import`를 사용하여 파일을 가져와야 합니다.

### private

[//]: # (todo link: Assets API)
이 디렉토리에 있는 모든 파일은 Assets API를 통해 서버에서만 액세스할 수 있습니다.
민감한 데이터 파일 및 외부에서 액세스하면 안되는 모든 파일을 이곳에 위치합니다.

### server

이 디렉토리는 클라이언트에서 로드되지 않습니다.
인증 메커니즘 등을 포함하는 코드는 이곳에 보관해야 합니다.
(또는 `imports/` 디렉토리에서 이곳으로만 가져와야 합니다.)

:::info
`client`, `public`, `private` 디렉토리를 제외한 모든 JS 파일을 수집하여 Node.js 서버 인스턴스에 로드합니다.

[//]: # (todo etc: 이거 예전에도 논의 했었던거 같은데... 말이 되는건가? 단일 스레드에서 한다고?)
Meteor에서 서버 코드는 Node의 일반적인 비동기식 콜백 스타일이 아니라 요청당 단일 스레드에서 실행됩니다.
:::

### tests

이 디렉토리는 어디에서도 로드되지 않습니다.
Meteor의 내장 테스트 도구가 아닌 외부 테스트 도구를 사용하는 경우,
테스트를 실행하려는 모든 테스트 코드는 이곳에 있어야 합니다.

### 그 외 디렉토리 %{ #other-directory }%

위에서 언급하지 않은 일반 디렉토리는 특수한 목적이 없습니다.
따라서 클라이언트와 서버 모두에서 `.js` 파일이 로드됩니다.
`.html` 및 `.css` 파일은 서버에서 사용할 수 없으며, 클라이언트에서만 로드됩니다.

## 기본 파일 로드 순서 %{ load-order }%

Meteor 앱은 아래와 같은 규칙으로 모든 파일을 순차적으로 불러와 실행합니다:

1. HTML 템플릿 파일은 항상 다른 모든 것보다 먼저 로드 됨.
2. `main.`로 시작하는 파일이 마지막에 로드 됨.
3. 디렉토리 경로가 더 깊은 파일이 다음에 로드 됨.
4. 전체 경로의 알파벳 순서로 파일이 로드 됨.

아래는 파일이 로드되는 예시 입니다:

```
nav.html                # 1. html 파일 로드
main.html               # 2. html 파일이 모두 로드 된 후,
                             마지막으로 main.html 파일이 로드 됨 
client/lib/methods.js   # 3. 가장 깊은 경로의 알파벳 순, 파일 알파벳 순으로 로드 됨
client/lib/styles.js
lib/feature/styles.js
lib/collections.js
client/feature-y.js
feature-x.js
client/main.js          # 4. 위의 .js 파일보다 경로는 깊지만,
                             main.js 이므로 나중에 로드 됨 
```

:::info

[//]: # (todo link: Meteor.startup)

`Meteor.startup` API 사용하면, 모든 파일이 로드된 후(meteor 앱이 구동된 후) 코드가 실행되도록 시기를 제어할 수 있습니다.
:::